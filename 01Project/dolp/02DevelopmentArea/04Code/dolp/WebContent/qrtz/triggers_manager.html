<script type="text/javascript">
$(function(){
	$("#triggersList").jqGrid({
		jsonReader:{
			repeatitems: false
		},
		caption:"Triggers列表",
		url:'qrtz/triggers/getGridData',
		editurl:"qrtz/triggers/editRow",
		colNames:['调度程序名称','触发器名称','触发器组','作业名称','作业组','描述','下次触发时间','上次触发时间','优先级','触发器状态','触发器类型','开始时间','结束时间','calendarName','misfireInstr','jobData'],
		colModel:[
					{name:'schedName',index:'schedName', width:50},
					{name:'triggerName',index:'triggerName', width:50},
					{name:'triggerGroup',index:'triggerGroup', width:50},
					{name:'jobName',index:'jobName', width:50},
					{name:'jobGroup',index:'jobGroup', width:50},
					{name:'description',index:'description', width:50},
					{name:'nextFireTime',index:'nextFireTime', width:50},
					{name:'prevFireTime',index:'prevFireTime', width:50},
					{name:'priority',index:'priority', width:50},
					{name:'triggerState',index:'triggerState', width:50},
					{name:'triggerType',index:'triggerType', width:50},
					{name:'startTime',index:'startTime', width:50},
					{name:'endTime',index:'endTime', width:50},
					{name:'calendarName',index:'calendarName', width:0,hidden:true},
					{name:'misfireInstr',index:'misfireInstr', width:0,hidden:true},
					{name:'jobData',index:'jobData', width:0,hidden:true}
		],
		pager: '#triggersPager',
		sortname: 'triggerName',
		sortorder: "asc",
		multiselect: true
	});
	$("#triggersList").setJqGridCUD('#triggersPager',{edit:true,add:true,del:true,search:false});
	//$("#triggersList").addSearchToolbar('#triggersPager');
});
</script>

<input type="button" value="启动调度" id="schedulerStartBtn">
<input type="button" value="停止调度" id="schedulerStopBtn">
<br/>
<br/>
<input type="button" value="查看详情" id="schedulerStartBtn">
<input type="button" value="查看作业" id="schedulerStopBtn">
<br/>
<br/>

<table id="triggersList"></table>
<div id="triggersPager"></div>